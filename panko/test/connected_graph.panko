VMOTAJ INT n 
WCBOOK n INT nodes
POCHIPUJ i n 
  NAMOTAJ ROLKA i nodes i

MOTAC INT find INT a 
  PAN INT ia a 
  MACKAJ NOT EQUAL ia ROLKA ia nodes
    NAMOTAJ ia ROLKA ia nodes 
    
  MACKAJ NOT EQUAL a ia 
  { 
    PAN INT buffer a 
    NAMOTAJ a ROLKA a nodes
    NAMOTAJ ROLKA buffer nodes ia
  }

  VYPAPAJ ia 

MOTAC INT union INT a INT b 
  PAN INT fa ZMOTAJ find a 
  PAN INT fb ZMOTAJ find b 
  
  AGE? NOT EQUAL fa fb
    NAMOTAJ ROLKA fa nodes fb
    
  VYPAPAJ 0

MEGA MOTAC INT connectedgraph
  VMOTAJ INT m 
  POCHIPUJ tojejedno m
  {
    VMOTAJ INT a
    VMOTAJ INT b 
    ZMOTAJ union a b 
    
    VYMOTAJ "union"
    VYMOTAJ a
    VYMOTAJ b
    VYMOTAJ "clusters"
    POCHIPUJ i n 
      VYMOTAJ ROLKA i nodes
  }
  
  VYMOTAJ "result"
    
  PAN INT cluster ROLKA 0 nodes
  PAN INT result FAJNE
  
  POCHIPUJ i n 
    AGE? NOT EQUAL cluster ROLKA i nodes 
      NAMOTAJ result PIPKOS
  
  AGE? EQUAL result FAJNE 
    VYMOTAJ "ANO"
  PIVO
    VYMOTAJ "NIE"
    
  PRE TEPLYCH nodes  
  VYPAPAJ 0
